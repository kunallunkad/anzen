import{c as V,r as _,s as r,f as i,j as e,T as X,i as Z,h as ee}from"./index-D377iWu2.js";import{M as te}from"./Modal-XL444I2e.js";import{P as ae}from"./plus-BUV76DvH.js";import{S as ne}from"./square-pen-Bq2ioL1R.js";import{C as re}from"./Layout-B5e6WOHT.js";import"./dateFormat-E6B5rKFz.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=V("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),R=u=>{const p=new Date(u),D=p.getDate().toString().padStart(2,"0"),x=(p.getMonth()+1).toString().padStart(2,"0"),C=p.getFullYear().toString().slice(-2);return`${D}/${x}/${C}`};function me({canManage:u}){const[p,D]=_.useState([]),[x,C]=_.useState([]),[N,F]=_.useState([]),[v,T]=_.useState([]),[H,$]=_.useState(!0),[q,k]=_.useState(!1),[m,B]=_.useState(null),[a,o]=_.useState({transfer_date:new Date().toISOString().split("T")[0],from_amount:0,to_amount:0,from_account_type:"bank",to_account_type:"bank",from_bank_account_id:"",to_bank_account_id:"",from_bank_statement_line_id:"",to_bank_statement_line_id:"",description:""});_.useEffect(()=>{E();const t=r.channel("bank-statement-fund-transfer-changes").on("postgres_changes",{event:"*",schema:"public",table:"bank_statement_lines"},()=>{a.from_bank_account_id&&f(a.from_bank_account_id,"from",(m==null?void 0:m.from_bank_statement_line_id)||void 0),a.to_bank_account_id&&f(a.to_bank_account_id,"to",(m==null?void 0:m.to_bank_statement_line_id)||void 0)}).subscribe();return()=>{t.unsubscribe()}},[a.from_bank_account_id,a.to_bank_account_id]);const E=async()=>{var t;try{console.log("loadData: Starting to load fund transfers..."),$(!0);const[n,s]=await Promise.all([r.from("vw_fund_transfers_detailed").select("*").order("transfer_date",{ascending:!1}).order("created_at",{ascending:!1}).limit(100),r.from("bank_accounts").select("id, bank_name, account_number, alias, currency").eq("is_active",!0).order("bank_name")]);if(console.log("loadData: Transfers result:",(t=n.data)==null?void 0:t.length,"records"),n.error)throw n.error;if(s.error)throw s.error;D(n.data||[]),C(s.data||[])}catch(n){console.error("Error loading fund transfers:",n.message),i({type:"error",title:"Error",message:"Failed to load fund transfers"})}finally{$(!1)}},f=async(t,n,s)=>{if(!t){n==="from"?F([]):T([]);return}try{let c=r.from("bank_statement_lines").select("id, transaction_date, description, debit_amount, credit_amount, reconciliation_status").eq("bank_account_id",t).is("matched_fund_transfer_id",null).is("matched_expense_id",null).is("matched_receipt_id",null).is("matched_petty_cash_id",null).is("matched_entry_id",null).order("transaction_date",{ascending:!1});const{data:b,error:l}=await c;if(l)throw l;let d=b||[];if(s){const{data:y}=await r.from("bank_statement_lines").select("id, transaction_date, description, debit_amount, credit_amount, reconciliation_status").eq("id",s).single();y&&!d.find(S=>S.id===y.id)&&(d=[y,...d])}n==="from"?F(d):T(d)}catch(c){console.error("Error loading bank statements:",c)}},h=()=>{if(a.from_account_type==="bank"&&a.from_bank_account_id){const t=x.find(n=>n.id===a.from_bank_account_id);return(t==null?void 0:t.currency)||"IDR"}return"IDR"},j=()=>{if(a.to_account_type==="bank"&&a.to_bank_account_id){const t=x.find(n=>n.id===a.to_bank_account_id);return(t==null?void 0:t.currency)||"IDR"}return"IDR"},Y=()=>{const t=h(),n=j();return a.from_amount>0&&a.to_amount>0&&t!==n?a.to_amount/a.from_amount:null},W=async t=>{if(t.preventDefault(),a.from_amount<=0){i({type:"error",title:"Error",message:"From Amount must be greater than 0"});return}if(a.to_amount<=0){i({type:"error",title:"Error",message:"To Amount must be greater than 0"});return}if(a.from_account_type===a.to_account_type)if(a.from_account_type==="bank"){if(a.from_bank_account_id===a.to_bank_account_id){i({type:"error",title:"Error",message:"Cannot transfer to the same bank account"});return}}else{i({type:"error",title:"Error",message:"Cannot transfer to the same account type"});return}if(a.from_account_type==="bank"&&!a.from_bank_account_id){i({type:"error",title:"Error",message:"Please select source bank account"});return}if(a.to_account_type==="bank"&&!a.to_bank_account_id){i({type:"error",title:"Error",message:"Please select destination bank account"});return}try{const{data:{user:n}}=await r.auth.getUser();if(!n)throw new Error("Not authenticated");const s=Y();if(m){const c={transfer_date:a.transfer_date,amount:a.from_amount,from_amount:a.from_amount,to_amount:a.to_amount,exchange_rate:s,from_account_type:a.from_account_type,to_account_type:a.to_account_type,description:a.description||null,from_bank_account_id:a.from_account_type==="bank"?a.from_bank_account_id:null,to_bank_account_id:a.to_account_type==="bank"?a.to_bank_account_id:null,from_bank_statement_line_id:a.from_bank_statement_line_id||null,to_bank_statement_line_id:a.to_bank_statement_line_id||null};console.log("Updating fund transfer:",m.id,c);const{data:b,error:l}=await r.from("fund_transfers").update(c).eq("id",m.id).select();if(console.log("Update result:",{updatedData:b,error:l}),l)throw l;i({type:"success",title:"Success",message:"Fund transfer updated successfully!"})}else{const{data:c,error:b}=await r.rpc("generate_fund_transfer_number");if(b)throw b;const l={transfer_number:c,transfer_date:a.transfer_date,amount:a.from_amount,from_amount:a.from_amount,to_amount:a.to_amount,exchange_rate:s,from_account_type:a.from_account_type,to_account_type:a.to_account_type,description:a.description||null,created_by:n.id};a.from_account_type==="bank"&&(l.from_bank_account_id=a.from_bank_account_id),a.to_account_type==="bank"&&(l.to_bank_account_id=a.to_bank_account_id),a.from_bank_statement_line_id&&(l.from_bank_statement_line_id=a.from_bank_statement_line_id),a.to_bank_statement_line_id&&(l.to_bank_statement_line_id=a.to_bank_statement_line_id);const{data:d,error:y}=await r.from("fund_transfers").insert([l]).select().single();if(y)throw y;if(a.to_account_type==="petty_cash"&&d){const S="PCW",P=new Date().getFullYear().toString().slice(-2),I=(new Date().getMonth()+1).toString().padStart(2,"0"),{count:K}=await r.from("petty_cash_transactions").select("*",{count:"exact",head:!0}).like("transaction_number",`${S}${P}${I}%`),U=`${S}${P}${I}-${String((K||0)+1).padStart(4,"0")}`;let O="Bank";if(a.from_account_type==="bank"&&a.from_bank_account_id){const g=x.find(Q=>Q.id===a.from_bank_account_id);O=(g==null?void 0:g.alias)||(g==null?void 0:g.bank_name)||"Bank"}const{error:A}=await r.from("petty_cash_transactions").insert([{transaction_number:U,transaction_date:a.transfer_date,transaction_type:"withdraw",amount:a.to_amount,description:a.description||`Fund transfer from ${O}`,bank_account_id:a.from_account_type==="bank"?a.from_bank_account_id:null,source:`Fund Transfer ${c}`,fund_transfer_id:d.id,created_by:n.id}]);A?(console.error("Error creating petty cash transaction:",A),i({type:"warning",title:"Warning",message:"Fund transfer created but petty cash entry failed: "+A.message})):console.log("Petty cash transaction created successfully:",U)}a.from_bank_statement_line_id&&d&&await r.from("bank_statement_lines").update({matched_fund_transfer_id:d.id,reconciliation_status:"matched",matched_at:new Date().toISOString(),matched_by:n.id,notes:`Linked to Fund Transfer ${c}`}).eq("id",a.from_bank_statement_line_id),a.to_bank_statement_line_id&&d&&await r.from("bank_statement_lines").update({matched_fund_transfer_id:d.id,reconciliation_status:"matched",matched_at:new Date().toISOString(),matched_by:n.id,notes:`Linked to Fund Transfer ${c}`}).eq("id",a.to_bank_statement_line_id),i({type:"success",title:"Success",message:"Fund transfer created and posted successfully!"})}k(!1),w(),E()}catch(n){console.error("Error with fund transfer:",n.message),i({type:"error",title:"Error",message:"Failed to save fund transfer: "+n.message})}},w=()=>{o({transfer_date:new Date().toISOString().split("T")[0],from_amount:0,to_amount:0,from_account_type:"bank",to_account_type:"bank",from_bank_account_id:"",to_bank_account_id:"",from_bank_statement_line_id:"",to_bank_statement_line_id:"",description:""}),F([]),T([]),B(null)},z=async t=>{B(t),o({transfer_date:t.transfer_date,from_amount:t.from_amount,to_amount:t.to_amount,from_account_type:t.from_account_type,to_account_type:t.to_account_type,from_bank_account_id:t.from_bank_account_id||"",to_bank_account_id:t.to_bank_account_id||"",from_bank_statement_line_id:t.from_bank_statement_line_id||"",to_bank_statement_line_id:t.to_bank_statement_line_id||"",description:t.description||""}),t.from_bank_account_id&&f(t.from_bank_account_id,"from",t.from_bank_statement_line_id||void 0),t.to_bank_account_id&&f(t.to_bank_account_id,"to",t.to_bank_statement_line_id||void 0),k(!0)},G=async t=>{if(await ee({title:"Confirm",message:"Are you sure you want to delete this fund transfer? This will also delete the associated petty cash transaction and journal entry.",variant:"danger",confirmLabel:"Delete"}))try{const{error:n}=await r.from("petty_cash_transactions").delete().eq("fund_transfer_id",t);n&&console.error("Error deleting petty cash transaction:",n),await r.from("bank_statement_lines").update({matched_fund_transfer_id:null,reconciliation_status:"unmatched",matched_at:null,matched_by:null,notes:null}).eq("matched_fund_transfer_id",t);const{error:s}=await r.from("fund_transfers").delete().eq("id",t);if(s)throw s;i({type:"success",title:"Success",message:"Fund transfer deleted successfully!"}),E()}catch(n){console.error("Error deleting fund transfer:",n.message),i({type:"error",title:"Error",message:"Failed to delete fund transfer: "+n.message})}},L=t=>{switch(t){case"petty_cash":return"Petty Cash";case"cash_on_hand":return"Cash on Hand";case"bank":return"Bank Account";default:return t}},J=t=>{switch(t){case"posted":return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-green-700 bg-green-50 border border-green-200 rounded",children:[e.jsx(Z,{className:"w-3 h-3"}),"Posted"]});case"pending":return e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium text-yellow-700 bg-yellow-50 border border-yellow-200 rounded",children:[e.jsx(re,{className:"w-3 h-3"}),"Pending"]});default:return e.jsx("span",{className:"text-xs text-gray-500",children:t})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Fund Transfers"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Transfer funds between accounts"})]}),u&&e.jsxs("button",{onClick:()=>{w(),k(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(ae,{className:"w-4 h-4"}),"New Transfer"]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Transfer #"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"From"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"â†’"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"To"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Status"}),u&&e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:H?e.jsx("tr",{children:e.jsx("td",{colSpan:u?9:8,className:"px-6 py-8 text-center text-gray-500",children:"Loading..."})}):p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:u?9:8,className:"px-6 py-8 text-center text-gray-500",children:"No fund transfers found"})}):p.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:R(t.transfer_date)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-mono text-sm text-gray-900",children:t.transfer_number}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[e.jsx("div",{className:"font-medium",children:t.from_account_name}),e.jsx("div",{className:"text-xs text-gray-500",children:L(t.from_account_type)})]}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx(M,{className:"w-4 h-4 text-blue-600 inline"})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[e.jsx("div",{className:"font-medium",children:t.to_account_name}),e.jsx("div",{className:"text-xs text-gray-500",children:L(t.to_account_type)})]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:t.description||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium text-gray-900",children:t.from_currency===t.to_currency?e.jsxs("div",{children:[t.from_currency==="USD"?"$":"Rp"," ",t.from_amount.toLocaleString("id-ID",{minimumFractionDigits:2,maximumFractionDigits:2})]}):e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-red-600",children:[t.from_currency==="USD"?"$":"Rp"," ",t.from_amount.toLocaleString("id-ID",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"â†’"}),e.jsxs("div",{className:"text-green-600",children:[t.to_currency==="USD"?"$":"Rp"," ",t.to_amount.toLocaleString("id-ID",{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.exchange_rate&&e.jsxs("div",{className:"text-xs text-gray-500",children:["Rate: ",t.exchange_rate.toFixed(6)]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:J(t.status)}),u&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>z(t),className:"text-blue-600 hover:text-blue-800",title:"Edit Transfer",children:e.jsx(ne,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>G(t.id),className:"text-red-600 hover:text-red-800",title:"Delete Transfer",children:e.jsx(X,{className:"w-4 h-4"})})]})})]},t.id))})]})}),q&&e.jsx(te,{isOpen:q,onClose:()=>{k(!1),w()},title:m?"Edit Fund Transfer":"New Fund Transfer",maxWidth:"max-w-2xl",children:e.jsxs("form",{onSubmit:W,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Transfer Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:a.transfer_date,onChange:t=>o({...a,transfer_date:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),e.jsxs("div",{className:"border-2 border-blue-200 rounded-lg p-4 bg-blue-50",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-3",children:"From (Source Account)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.from_account_type,onChange:t=>o({...a,from_account_type:t.target.value,from_bank_account_id:t.target.value==="bank"?a.from_bank_account_id:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:[e.jsx("option",{value:"bank",children:"Bank Account"}),e.jsx("option",{value:"cash_on_hand",children:"Cash on Hand"}),e.jsx("option",{value:"petty_cash",children:"Petty Cash"})]})]}),a.from_account_type==="bank"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Bank Account ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.from_bank_account_id,onChange:t=>{o({...a,from_bank_account_id:t.target.value,from_bank_statement_line_id:""}),f(t.target.value,"from")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:[e.jsx("option",{value:"",children:"Select Bank Account"}),x.map(t=>e.jsxs("option",{value:t.id,children:[t.alias||t.bank_name," - ",t.account_number," (",t.currency,")"]},t.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Amount (",h(),") ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",value:a.from_amount||"",onChange:t=>{const n=parseFloat(t.target.value)||0,s=h(),c=j();o(s===c?{...a,from_amount:n,to_amount:n}:{...a,from_amount:n})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,min:"0.01"})]}),a.from_bank_account_id&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ðŸ”— Link to Bank Statement (Optional)"}),N.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("select",{value:a.from_bank_statement_line_id,onChange:t=>o({...a,from_bank_statement_line_id:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"",children:"No link"}),N.map(t=>{var n;return e.jsxs("option",{value:t.id,children:[R(t.transaction_date)," - ",(n=t.description)==null?void 0:n.substring(0,40)," -",h()==="USD"?"$":"Rp"," ",(t.debit_amount||t.credit_amount||0).toLocaleString("id-ID",{minimumFractionDigits:2,maximumFractionDigits:2})]},t.id)})]}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[N.length," unlinked transaction",N.length!==1?"s":""," available"]})]}):e.jsx("div",{className:"text-sm text-gray-500 italic py-2 px-3 bg-gray-50 rounded-lg border border-gray-200",children:"No unlinked transactions available"})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx(M,{className:"w-6 h-6 text-gray-400"})}),e.jsxs("div",{className:"border-2 border-green-200 rounded-lg p-4 bg-green-50",children:[e.jsx("h3",{className:"text-sm font-semibold text-green-900 mb-3",children:"To (Destination Account)"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Account Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.to_account_type,onChange:t=>o({...a,to_account_type:t.target.value,to_bank_account_id:t.target.value==="bank"?a.to_bank_account_id:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:[e.jsx("option",{value:"petty_cash",children:"Petty Cash"}),e.jsx("option",{value:"cash_on_hand",children:"Cash on Hand"}),e.jsx("option",{value:"bank",children:"Bank Account"})]})]}),a.to_account_type==="bank"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Bank Account ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:a.to_bank_account_id,onChange:t=>{o({...a,to_bank_account_id:t.target.value,to_bank_statement_line_id:""}),f(t.target.value,"to")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,children:[e.jsx("option",{value:"",children:"Select Bank Account"}),x.map(t=>e.jsxs("option",{value:t.id,children:[t.alias||t.bank_name," - ",t.account_number," (",t.currency,")"]},t.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Amount (",j(),") ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",value:a.to_amount||"",onChange:t=>o({...a,to_amount:parseFloat(t.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0,min:"0.01"}),h()!==j()&&a.from_amount>0&&a.to_amount>0&&e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Exchange Rate: 1 USD = ",(h()==="USD"?a.to_amount/a.from_amount:a.from_amount/a.to_amount).toLocaleString("id-ID",{minimumFractionDigits:2,maximumFractionDigits:2})," IDR"]})]}),a.to_bank_account_id&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ðŸ”— Link to Bank Statement (Optional)"}),v.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("select",{value:a.to_bank_statement_line_id,onChange:t=>o({...a,to_bank_statement_line_id:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"",children:"No link"}),v.map(t=>{var n;return e.jsxs("option",{value:t.id,children:[R(t.transaction_date)," - ",(n=t.description)==null?void 0:n.substring(0,40)," -",j()==="USD"?"$":"Rp"," ",(t.debit_amount||t.credit_amount||0).toLocaleString("id-ID",{minimumFractionDigits:2,maximumFractionDigits:2})]},t.id)})]}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[v.length," unlinked transaction",v.length!==1?"s":""," available"]})]}):e.jsx("div",{className:"text-sm text-gray-500 italic py-2 px-3 bg-gray-50 rounded-lg border border-gray-200",children:"No unlinked transactions available"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:a.description,onChange:t=>o({...a,description:t.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg",placeholder:"Purpose of transfer (optional)"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," The journal entry will be posted automatically when you create this transfer. Both accounts will be updated immediately."]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{k(!1),w()},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Transfer"})]})]})})]})}export{me as FundTransferManager};
