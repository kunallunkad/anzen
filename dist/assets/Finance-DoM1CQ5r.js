const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PurchaseInvoiceManager-BilQqY7s.js","assets/index-05MON0zc.js","assets/index-EAfXSJlg.css","assets/Modal-DojL8f5j.js","assets/SearchableSelect-rThwoRtO.js","assets/chevron-down-C44n7mhs.js","assets/search-CGgsAlNq.js","assets/FileUpload-ffkhJ8e3.js","assets/upload-BdstOxEa.js","assets/clipboard-bJertYRD.js","assets/file-B6--rgqI.js","assets/image-ButV3ySe.js","assets/dateFormat-E6B5rKFz.js","assets/plus-C8ciBmA_.js","assets/eye-ZtrRT66G.js","assets/ReceiptVoucherManager-DHrKokm0.js","assets/html2canvas.esm-2-KN9102.js","assets/arrow-down-circle-B8R_Evxa.js","assets/pen-Q5LbXz1h.js","assets/printer-DeVD-0IS.js","assets/PaymentVoucherManager-BtOQ8e__.js","assets/arrow-up-circle-DbWWKntE.js","assets/ExpenseManager-lIoL-xt2.js","assets/building-2-DBQXKMe1.js","assets/Layout-9pjiZa2A.js","assets/download-DgYIVgez.js","assets/external-link-bLqkzxfp.js","assets/PettyCashManager-ChStWRIo.js","assets/FundTransferManager-Drp84Jhk.js","assets/square-pen-pND7Nsfd.js","assets/JournalEntryViewerEnhanced-B-jlnRBq.js","assets/AccountLedger-B_ArPATp.js","assets/PartyLedger-CE2KA46r.js","assets/refresh-cw-COiX6GIZ.js","assets/mail-cPtJJUOl.js","assets/BankLedger-C6un460S.js","assets/book-open-DxKJGqJh.js","assets/FinancialReports-CxMlQStJ.js","assets/ReceivablesManager-g-qlxfZZ.js","assets/DataTable-DghMVdqP.js","assets/chevron-up-TszMf-vQ.js","assets/PayablesManager-CVjWz6E2.js","assets/OutstandingSummary-BgHMiehG.js","assets/AgeingReport-DO-f52so.js","assets/BankReconciliationEnhanced-Bf0_WLR9.js","assets/xlsx-CKN5doRT.js","assets/x-circle-9F53lfQy.js","assets/check-circle-2-B8I5xse-.js","assets/ChartOfAccountsManager-B8UYU0rd.js","assets/chevron-right-J69svULs.js","assets/SuppliersManager-DDe-8_px.js","assets/BankAccountsManager-DKMEmSqs.js","assets/TaxReports-DPv3_Gv7.js","assets/trending-down-CDvl24yT.js","assets/CAReports-BwVE2OY5.js","assets/GeneralJournalEntry-BEqlLzdF.js","assets/rotate-ccw-CCqzxXIv.js","assets/save-DJUZN4qR.js"])))=>i.map(i=>d[i]);
import{j as a,u as j,d as E,m as R,r as t,X as A,_ as r}from"./index-05MON0zc.js";import{L as D,d as L}from"./Layout-9pjiZa2A.js";import{C as k}from"./chevron-right-J69svULs.js";import{C as w}from"./chevron-down-C44n7mhs.js";import{L as T}from"./loader-Cs7uOpwi.js";import"./dateFormat-E6B5rKFz.js";const P=t.lazy(()=>r(()=>import("./PurchaseInvoiceManager-BilQqY7s.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14])).then(e=>({default:e.PurchaseInvoiceManager}))),M=t.lazy(()=>r(()=>import("./ReceiptVoucherManager-DHrKokm0.js"),__vite__mapDeps([15,1,2,3,4,5,6,16,17,14,18,19])).then(e=>({default:e.ReceiptVoucherManager}))),N=t.lazy(()=>r(()=>import("./PaymentVoucherManager-BtOQ8e__.js"),__vite__mapDeps([20,1,2,3,4,5,6,21])).then(e=>({default:e.PaymentVoucherManager}))),V=t.lazy(()=>r(()=>import("./ExpenseManager-lIoL-xt2.js"),__vite__mapDeps([22,1,2,3,23,24,12,13,25,14,26,8,9])).then(e=>({default:e.ExpenseManager}))),C=t.lazy(()=>r(()=>import("./PettyCashManager-ChStWRIo.js"),__vite__mapDeps([27,1,2,3,12,23,24,13,25,17,21,14,18,26,8,11])).then(e=>({default:e.PettyCashManager}))),z=t.lazy(()=>r(()=>import("./FundTransferManager-Drp84Jhk.js"),__vite__mapDeps([28,1,2,3,13,29,24,12])).then(e=>({default:e.FundTransferManager}))),I=t.lazy(()=>r(()=>import("./JournalEntryViewerEnhanced-B-jlnRBq.js"),__vite__mapDeps([30,1,2,3,6,29])).then(e=>({default:e.JournalEntryViewerEnhanced}))),O=t.lazy(()=>r(()=>import("./AccountLedger-B_ArPATp.js"),__vite__mapDeps([31,1,2,6,19])).then(e=>({default:e.AccountLedger}))),F=t.lazy(()=>r(()=>import("./PartyLedger-CE2KA46r.js"),__vite__mapDeps([32,1,2,16,24,12,23,33,25,34]))),S=t.lazy(()=>r(()=>import("./BankLedger-C6un460S.js"),__vite__mapDeps([35,1,2,3,36,33,25]))),p=t.lazy(()=>r(()=>import("./FinancialReports-CxMlQStJ.js"),__vite__mapDeps([37,1,2])).then(e=>({default:e.FinancialReports}))),B=t.lazy(()=>r(()=>import("./ReceivablesManager-g-qlxfZZ.js"),__vite__mapDeps([38,1,2,39,6,40,5,3,12,33,24])).then(e=>({default:e.ReceivablesManager}))),G=t.lazy(()=>r(()=>import("./PayablesManager-CVjWz6E2.js"),__vite__mapDeps([41,1,2,39,6,40,5,3,12,24,13,29])).then(e=>({default:e.PayablesManager})));t.lazy(()=>r(()=>import("./OutstandingSummary-BgHMiehG.js"),__vite__mapDeps([42,1,2,24,12,25,23])));const J=t.lazy(()=>r(()=>import("./AgeingReport-DO-f52so.js"),__vite__mapDeps([43,1,2,40,5])).then(e=>({default:e.AgeingReport}))),K=t.lazy(()=>r(()=>import("./BankReconciliationEnhanced-Bf0_WLR9.js"),__vite__mapDeps([44,1,2,45,3,4,5,6,33,46,8,47,13,29])).then(e=>({default:e.BankReconciliationEnhanced}))),X=t.lazy(()=>r(()=>import("./ChartOfAccountsManager-B8UYU0rd.js"),__vite__mapDeps([48,1,2,3,6,13,5,49,29])).then(e=>({default:e.ChartOfAccountsManager}))),$=t.lazy(()=>r(()=>import("./SuppliersManager-DDe-8_px.js"),__vite__mapDeps([50,1,2,3,6,13,23,29])).then(e=>({default:e.SuppliersManager}))),q=t.lazy(()=>r(()=>import("./BankAccountsManager-DKMEmSqs.js"),__vite__mapDeps([51,1,2,39,6,40,5,3,13,29])).then(e=>({default:e.BankAccountsManager}))),H=t.lazy(()=>r(()=>import("./TaxReports-DPv3_Gv7.js"),__vite__mapDeps([52,1,2,12,25,53,24])).then(e=>({default:e.TaxReports}))),U=t.lazy(()=>r(()=>import("./CAReports-BwVE2OY5.js"),__vite__mapDeps([54,1,2,45,23,24,12,25])).then(e=>({default:e.CAReports}))),Q=t.lazy(()=>r(()=>import("./GeneralJournalEntry-BEqlLzdF.js"),__vite__mapDeps([55,1,2,3,5,6,36,13,56,57,14])).then(e=>({default:e.GeneralJournalEntry}))),W=e=>[{label:e.finance.vouchers,items:[{id:"purchase",label:e.finance.purchase,shortcut:"F9"},{id:"receipt",label:e.finance.receipt,shortcut:"F6"},{id:"payment",label:e.finance.payment,shortcut:"F5"},{id:"journal",label:e.finance.journal,shortcut:"F7"},{id:"contra",label:e.finance.contra,shortcut:"F4"},{id:"expenses",label:e.finance.expenses,shortcut:"F8"},{id:"petty_cash",label:e.finance.pettyCash}]},{label:e.finance.books,items:[{id:"ledger",label:e.finance.ledger,shortcut:"Ctrl+L"},{id:"journal_register",label:e.finance.journalRegister,shortcut:"Ctrl+J"},{id:"bank_ledger",label:e.finance.bankLedger},{id:"party_ledger",label:e.finance.partyLedger},{id:"bank_recon",label:e.finance.bankReconciliation}]},{label:e.finance.reports,collapsible:!0,items:[{id:"ca_reports",label:"ðŸ“Š "+e.finance.caReports,shortcut:"Ctrl+R"},{id:"trial_balance",label:e.finance.trialBalance},{id:"pnl",label:e.finance.profitLoss},{id:"balance_sheet",label:e.finance.balanceSheet},{id:"receivables",label:e.finance.receivables},{id:"payables",label:e.finance.payables},{id:"ageing",label:e.finance.ageing},{id:"tax",label:e.finance.taxReports}]},{label:e.finance.masters,collapsible:!0,items:[{id:"coa",label:e.finance.chartOfAccounts},{id:"suppliers",label:e.finance.suppliers},{id:"banks",label:e.finance.banks}]}];function Y(){const{profile:e}=j(),{t:o}=E(),{dateRange:_}=R(),[f,i]=t.useState("purchase"),[h,b]=t.useState(new Set),[u,x]=t.useState(!1),l=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="accounts",m=t.useMemo(()=>!o||!o.finance?[]:W(o),[o]),y=s=>{b(n=>{const c=new Set(n);return c.has(s)?c.delete(s):c.add(s),c})};t.useEffect(()=>{const s=n=>{if(!["INPUT","TEXTAREA","SELECT"].includes(n.target.tagName))if(n.key==="F2"){n.preventDefault();const c=document.querySelector('input[type="date"]');c&&c.focus()}else n.key==="F4"?(n.preventDefault(),i("contra")):n.key==="F5"?(n.preventDefault(),i("payment")):n.key==="F6"?(n.preventDefault(),i("receipt")):n.key==="F7"?(n.preventDefault(),i("journal")):n.key==="F8"?(n.preventDefault(),i("expenses")):n.key==="F9"?(n.preventDefault(),i("purchase")):n.key==="F10"?(n.preventDefault(),window.location.hash="sales"):n.ctrlKey&&n.key==="l"?(n.preventDefault(),i("ledger")):n.ctrlKey&&n.key==="j"&&(n.preventDefault(),i("journal_register"))};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[]);const g=()=>{var s;switch(f){case"purchase":return a.jsx(P,{canManage:l});case"receipt":return a.jsx(M,{canManage:l});case"payment":return a.jsx(N,{canManage:l});case"journal":return a.jsx(Q,{canManage:l,onNavigateToLedger:()=>i("ledger")});case"contra":return a.jsx(z,{canManage:l});case"expenses":return a.jsx(V,{canManage:l});case"petty_cash":return a.jsx(C,{canManage:l,onNavigateToFundTransfer:()=>i("contra")});case"ledger":return a.jsx(O,{});case"journal_register":return a.jsx(I,{canManage:l});case"bank_ledger":return a.jsx(S,{});case"party_ledger":return a.jsx(F,{});case"bank_recon":return a.jsx(K,{canManage:l});case"trial_balance":return a.jsx(p,{initialReport:"trial_balance"});case"pnl":return a.jsx(p,{initialReport:"pnl"});case"balance_sheet":return a.jsx(p,{initialReport:"balance_sheet"});case"receivables":return a.jsx(B,{canManage:l});case"payables":return a.jsx(G,{canManage:l});case"ageing":return a.jsx(J,{});case"tax":return a.jsx(H,{});case"ca_reports":return a.jsx(U,{});case"coa":return a.jsx(X,{canManage:l});case"suppliers":return a.jsx($,{canManage:l});case"banks":return a.jsx(q,{canManage:l});default:return a.jsx("div",{className:"text-center p-8 text-gray-500",children:((s=o==null?void 0:o.common)==null?void 0:s.noData)||"No data available"})}};return a.jsx(D,{children:a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[!u&&a.jsx("div",{className:"fixed inset-0 z-40 bg-black/30 md:hidden",onClick:()=>x(!0)}),a.jsx("div",{className:`fixed inset-y-0 left-0 z-50 w-48 bg-white border-r border-gray-200 flex flex-col md:relative md:z-auto transition-transform duration-300 ${u?"-translate-x-full md:translate-x-0":"translate-x-0"}`,children:a.jsx("div",{className:"flex-1 overflow-y-auto",children:m.map((s,n)=>{const c=h.has(s.label),v=s.collapsible;return a.jsxs("div",{className:n>0?"border-t border-gray-200":"",children:[v?a.jsxs("button",{onClick:()=>y(s.label),className:"w-full px-2 py-1.5 text-[10px] font-semibold text-gray-500 uppercase tracking-wider flex items-center justify-between hover:bg-gray-50",children:[a.jsx("span",{children:s.label}),c?a.jsx(k,{className:"w-3 h-3"}):a.jsx(w,{className:"w-3 h-3"})]}):a.jsx("div",{className:"px-2 py-1.5 text-[10px] font-semibold text-gray-500 uppercase tracking-wider",children:s.label}),!c&&a.jsx("div",{children:s.items.map(d=>a.jsx("button",{onClick:()=>i(d.id),className:`w-full text-left px-3 py-1.5 text-xs transition-colors ${f===d.id?"bg-blue-50 text-blue-700 font-medium border-l-2 border-blue-600":"text-gray-700 hover:bg-gray-50 border-l-2 border-transparent"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{children:d.label}),d.shortcut&&a.jsx("span",{className:"text-[10px] text-gray-400",children:d.shortcut})]})},d.id))})]},s.label)})})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 px-3 md:px-6 py-3 flex items-center gap-3",children:[a.jsx("button",{onClick:()=>x(!u),className:"p-1.5 hover:bg-gray-100 rounded transition-colors md:hidden",title:u?"Show Menu":"Hide Menu",children:u?a.jsx(L,{className:"w-5 h-5 text-gray-600"}):a.jsx(A,{className:"w-5 h-5 text-gray-600"})}),a.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:o.finance.title}),a.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:[_.startDate," to ",_.endDate]})]}),a.jsx("div",{className:"flex-1 overflow-auto bg-white",children:a.jsx("div",{className:"p-3 md:p-6",children:a.jsx(t.Suspense,{fallback:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(T,{className:"w-6 h-6 animate-spin text-blue-600"})}),children:g()})})})]})]})})}function se(){return a.jsx(Y,{})}export{se as Finance};
