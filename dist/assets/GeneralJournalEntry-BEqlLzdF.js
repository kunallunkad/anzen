import{c as ye,m as be,u as fe,r as n,s as i,j as e,F as ge,X as je,T as Y,f as E}from"./index-05MON0zc.js";import{M as Ne}from"./Modal-DojL8f5j.js";import{C as _e}from"./chevron-down-C44n7mhs.js";import{S as we}from"./search-CGgsAlNq.js";import{B as Z}from"./book-open-DxKJGqJh.js";import{P as ve}from"./plus-C8ciBmA_.js";import{R as Ce}from"./rotate-ccw-CCqzxXIv.js";import{S as ke}from"./save-DJUZN4qR.js";import{E as De}from"./eye-ZtrRT66G.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=ye("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),te=x=>{if(x==null||x==="")return 0;if(typeof x=="number")return x;const _=String(x).trim();if(_==="")return 0;let c=_.replace(/\s/g,"");const p=(c.match(/\./g)||[]).length,g=(c.match(/,/g)||[]).length;p>1||p>=1&&g===1?(c=c.replace(/\./g,""),c=c.replace(/,/g,".")):g>1||g>=1&&p===1?c=c.replace(/,/g,""):p===1&&g===0?c.split(".")[1].length===3&&(c=c.replace(/\./g,"")):g===1&&p===0&&(c=c.replace(/,/g,"."));const u=parseFloat(c);return isNaN(u)?0:u},Ee=[{name:"Loan Received",description:"Bank loan received into account",lines:[{accountCode:"111101",side:"debit",label:"Bank BCA - IDR"},{accountCode:"2210",side:"credit",label:"Bank Loans"}]},{name:"Loan Repayment",description:"Repay bank loan from account",lines:[{accountCode:"2210",side:"debit",label:"Bank Loans"},{accountCode:"111101",side:"credit",label:"Bank BCA - IDR"}]},{name:"Loan Given",description:"Loan given to external party",lines:[{accountCode:"1310",side:"debit",label:"Loan Receivable"},{accountCode:"111101",side:"credit",label:"Bank BCA - IDR"}]},{name:"Director Loan",description:"Loan from director/owner",lines:[{accountCode:"111101",side:"debit",label:"Bank BCA - IDR"},{accountCode:"2220",side:"credit",label:"Loan from Vijay Lunkad"}]},{name:"Staff Advance",description:"Advance given to staff",lines:[{accountCode:"1160",side:"debit",label:"Staff Advances & Loans"},{accountCode:"1102",side:"credit",label:"Petty Cash"}]},{name:"Advance Recovery",description:"Recover advance from staff salary",lines:[{accountCode:"6100",side:"debit",label:"Salaries & Wages"},{accountCode:"1160",side:"credit",label:"Staff Advances & Loans"}]},{name:"Salary Adjustment",description:"Adjust salary or bonus entries",lines:[{accountCode:"6100",side:"debit",label:"Salaries & Wages"},{accountCode:"111101",side:"credit",label:"Bank BCA - IDR"}]},{name:"Interest Payment",description:"Pay interest on loan",lines:[{accountCode:"7200",side:"debit",label:"Interest Expense"},{accountCode:"111101",side:"credit",label:"Bank BCA - IDR"}]}];function N(){return{key:crypto.randomUUID(),account_id:"",account_code:"",account_name:"",description:"",debit:0,credit:0}}function Pe({canManage:x,onNavigateToLedger:_}){const{dateRange:c,triggerRefresh:p,refreshTrigger:g}=be(),{profile:u}=fe(),[S,se]=n.useState([]),[$,ae]=n.useState([]),[re,z]=n.useState(!0),[L,G]=n.useState(!1),[A,R]=n.useState(new Date().toISOString().split("T")[0]),[B,w]=n.useState(""),[h,j]=n.useState([N(),N()]),[I,v]=n.useState(null),[T,C]=n.useState(""),q=n.useRef(null),O=n.useRef(null),[l,ne]=n.useState(null),[oe,W]=n.useState(!1),[y,X]=n.useState(null),[H,P]=n.useState(!1),J=n.useRef(null),d=h.reduce((t,s)=>t+(s.debit||0),0),b=h.reduce((t,s)=>t+(s.credit||0),0),k=d>0&&Math.abs(d-b)<.01,U=h.filter(t=>t.account_id).length>=2,K=n.useCallback(async()=>{const{data:t}=await i.from("chart_of_accounts").select("id, code, name, account_type, normal_balance").eq("is_header",!1).eq("is_active",!0).order("code");t&&se(t)},[]),M=n.useCallback(async()=>{z(!0);const{data:t}=await i.from("journal_entries").select("id, entry_number, entry_date, description, source_module, total_debit, total_credit, is_posted, created_at").eq("source_module","manual").gte("entry_date",c.startDate).lte("entry_date",c.endDate).order("created_at",{ascending:!1});t&&ae(t),z(!1)},[c]);n.useEffect(()=>{K()},[K]),n.useEffect(()=>{M()},[M,g]),n.useEffect(()=>{function t(s){q.current&&!q.current.contains(s.target)&&v(null),J.current&&!J.current.contains(s.target)&&P(!1)}return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]),n.useEffect(()=>{I!==null&&O.current&&O.current.focus()},[I]);const Q=S.filter(t=>{if(!T)return!0;const s=T.toLowerCase();return t.code.toLowerCase().includes(s)||t.name.toLowerCase().includes(s)}),F=(t,s,a)=>{j(r=>{const o=[...r];return o[t]={...o[t],[s]:a},s==="debit"&&a>0?o[t].credit=0:s==="credit"&&a>0&&(o[t].debit=0),o})},ce=(t,s)=>{j(a=>{const r=[...a];return r[t]={...r[t],account_id:s.id,account_code:s.code,account_name:s.name},r}),v(null),C("")},ie=t=>{h.length<=2||j(s=>s.filter((a,r)=>r!==t))},le=()=>{j(t=>[...t,N()])},V=()=>{R(new Date().toISOString().split("T")[0]),w(""),j([N(),N()]),X(null)},de=t=>{const s=t.lines.map(a=>{const r=S.find(o=>o.code===a.accountCode);return{key:crypto.randomUUID(),account_id:(r==null?void 0:r.id)||"",account_code:(r==null?void 0:r.code)||a.accountCode,account_name:(r==null?void 0:r.name)||a.label,description:"",debit:(a.side==="debit",0),credit:(a.side==="credit",0)}});w(t.description),j(s),P(!1)},ue=async()=>{if(!(!k||!U)){G(!0);try{if(y){const{error:t}=await i.from("journal_entries").update({entry_date:A,description:B||null,total_debit:d,total_credit:b}).eq("id",y).eq("source_module","manual");if(t)throw t;const{error:s}=await i.from("journal_entry_lines").delete().eq("journal_entry_id",y);if(s)throw s;const a=h.filter(o=>o.account_id&&(o.debit>0||o.credit>0)).map((o,D)=>({journal_entry_id:y,line_number:D+1,account_id:o.account_id,description:o.description||null,debit:o.debit||0,credit:o.credit||0})),{error:r}=await i.from("journal_entry_lines").insert(a);if(r)throw r;E({type:"success",title:"Journal Updated",message:"Entry updated successfully"}),V(),p()}else{const{data:t,error:s}=await i.rpc("generate_journal_entry_number");if(s)throw s;const{data:a,error:r}=await i.from("journal_entries").insert({entry_number:t,entry_date:A,description:B||null,source_module:"manual",total_debit:d,total_credit:b,is_posted:!0,posted_by:u==null?void 0:u.id,created_by:u==null?void 0:u.id}).select("id").single();if(r)throw r;const o=h.filter(f=>f.account_id&&(f.debit>0||f.credit>0)).map((f,he)=>({journal_entry_id:a.id,line_number:he+1,account_id:f.account_id,description:f.description||null,debit:f.debit||0,credit:f.credit||0})),{error:D}=await i.from("journal_entry_lines").insert(o);if(D)throw D;E({type:"success",title:"Journal Posted",message:`Entry ${t} posted successfully`}),V(),p()}}catch(t){E({type:"error",title:"Posting Failed",message:t.message||"Could not post journal entry"})}finally{G(!1)}}},me=async t=>{const{data:s}=await i.from("journal_entry_lines").select("line_number, account_id, description, debit, credit, chart_of_accounts(code, name)").eq("journal_entry_id",t.id).order("line_number");ne({...t,lines:s||[]}),W(!0)},xe=async t=>{const{data:s}=await i.from("journal_entry_lines").select("line_number, account_id, description, debit, credit, chart_of_accounts(code, name)").eq("journal_entry_id",t.id).order("line_number");s&&s.length>0&&(R(t.entry_date),w(t.description||""),j(s.map(a=>{var r,o;return{key:crypto.randomUUID(),account_id:a.account_id,account_code:((r=a.chart_of_accounts)==null?void 0:r.code)||"",account_name:((o=a.chart_of_accounts)==null?void 0:o.name)||"",description:a.description||"",debit:a.debit||0,credit:a.credit||0}})),X(t.id),window.scrollTo({top:0,behavior:"smooth"}))},pe=async t=>{if(confirm("Are you sure you want to delete this manual journal entry? This cannot be undone."))try{const{data:s}=await i.from("bank_statement_lines").select("id").eq("matched_entry_id",t).limit(1);if(s&&s.length>0){alert("Cannot delete: this entry is linked to a bank statement. Unlink it first from Bank Reconciliation.");return}const{error:a}=await i.from("journal_entry_lines").delete().eq("journal_entry_id",t);if(a)throw a;const{error:r}=await i.from("journal_entries").delete().eq("id",t).eq("source_module","manual");if(r)throw r;E({type:"success",title:"Journal Deleted",message:"Journal entry deleted successfully"}),M()}catch(s){alert("Error deleting: "+s.message)}},m=t=>t?new Intl.NumberFormat("id-ID",{minimumFractionDigits:0,maximumFractionDigits:2}).format(t):"-";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Journal Voucher"}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Manual double-entry journal posting"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"relative",ref:J,children:[e.jsxs("button",{onClick:()=>P(!H),className:"flex items-center gap-1.5 px-3 py-2 text-sm bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg border border-gray-300 transition-colors",children:[e.jsx(ge,{className:"w-4 h-4"}),"Templates",e.jsx(_e,{className:"w-3.5 h-3.5"})]}),H&&e.jsx("div",{className:"absolute right-0 top-full mt-1 w-72 bg-white rounded-lg shadow-xl border border-gray-200 z-50 py-1 max-h-80 overflow-y-auto",children:Ee.map(t=>e.jsxs("button",{onClick:()=>de(t),className:"w-full text-left px-4 py-2.5 hover:bg-blue-50 transition-colors",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name}),e.jsx("div",{className:"text-xs text-gray-500",children:t.description})]},t.name))})]})})]}),x&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"p-4 border-b border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Date"}),e.jsx("input",{type:"date",value:A,onChange:t=>R(t.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Narration / Description"}),e.jsx("input",{type:"text",value:B,onChange:t=>w(t.target.value),placeholder:"e.g. Loan received from Bank BCA",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 text-gray-600",children:[e.jsx("th",{className:"text-left px-4 py-2.5 font-medium w-10",children:"#"}),e.jsx("th",{className:"text-left px-4 py-2.5 font-medium min-w-[280px]",children:"Account"}),e.jsx("th",{className:"text-left px-4 py-2.5 font-medium min-w-[160px]",children:"Line Narration"}),e.jsx("th",{className:"text-right px-4 py-2.5 font-medium w-36",children:"Debit"}),e.jsx("th",{className:"text-right px-4 py-2.5 font-medium w-36",children:"Credit"}),e.jsx("th",{className:"text-center px-2 py-2.5 font-medium w-20",children:"Actions"})]})}),e.jsx("tbody",{children:h.map((t,s)=>e.jsxs("tr",{className:"border-t border-gray-100 hover:bg-gray-50/50",children:[e.jsx("td",{className:"px-4 py-2 text-gray-400 text-xs",children:s+1}),e.jsx("td",{className:"px-4 py-2 relative",children:I===s?e.jsxs("div",{ref:q,className:"relative",children:[e.jsxs("div",{className:"flex items-center border border-blue-400 rounded-lg bg-white shadow-sm",children:[e.jsx(we,{className:"w-4 h-4 text-gray-400 ml-2 shrink-0"}),e.jsx("input",{ref:O,type:"text",value:T,onChange:a=>C(a.target.value),placeholder:"Search account...",className:"w-full px-2 py-1.5 text-sm border-0 focus:ring-0 focus:outline-none"}),e.jsx("button",{onClick:()=>{v(null),C("")},className:"p-1 mr-1",children:e.jsx(je,{className:"w-4 h-4 text-gray-400"})})]}),e.jsx("div",{className:"absolute left-0 top-full mt-1 w-full bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-48 overflow-y-auto",children:Q.length===0?e.jsx("div",{className:"px-4 py-3 text-sm text-gray-400",children:"No accounts found"}):Q.map(a=>e.jsxs("button",{onClick:()=>ce(s,a),className:"w-full text-left px-3 py-2 hover:bg-blue-50 flex items-center gap-2 transition-colors",children:[e.jsx("span",{className:"text-xs font-mono text-blue-600 bg-blue-50 px-1.5 py-0.5 rounded",children:a.code}),e.jsx("span",{className:"text-sm text-gray-800 truncate",children:a.name}),e.jsx("span",{className:"text-xs text-gray-400 ml-auto shrink-0",children:a.account_type})]},a.id))})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{v(s),C("")},className:`flex-1 text-left px-3 py-1.5 rounded-lg border transition-colors text-sm ${t.account_id?"border-gray-200 bg-white hover:border-gray-300":"border-dashed border-gray-300 text-gray-400 hover:border-blue-400 hover:text-blue-500"}`,children:t.account_id?e.jsxs("span",{children:[e.jsx("span",{className:"font-mono text-blue-600 mr-1.5",children:t.account_code}),t.account_name]}):"Select account..."}),t.account_id&&e.jsx("button",{onClick:_,title:"View Ledger",className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",children:e.jsx(Z,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"text",value:t.description,onChange:a=>F(s,"description",a.target.value),placeholder:"Optional",className:"w-full px-2.5 py-1.5 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"text",value:t.debit||"",onChange:a=>F(s,"debit",te(a.target.value)),placeholder:"0",className:"w-full px-2.5 py-1.5 text-sm text-right border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 tabular-nums"})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("input",{type:"text",value:t.credit||"",onChange:a=>F(s,"credit",te(a.target.value)),placeholder:"0",className:"w-full px-2.5 py-1.5 text-sm text-right border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 tabular-nums"})}),e.jsx("td",{className:"px-2 py-2 text-center",children:e.jsx("button",{onClick:()=>ie(s),disabled:h.length<=2,className:"p-1 text-gray-400 hover:text-red-500 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:e.jsx(Y,{className:"w-4 h-4"})})})]},t.key))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"border-t-2 border-gray-300 bg-gray-50 font-semibold",children:[e.jsx("td",{className:"px-4 py-3",colSpan:3,children:e.jsxs("button",{onClick:le,className:"flex items-center gap-1.5 text-sm text-blue-600 hover:text-blue-800 transition-colors",children:[e.jsx(ve,{className:"w-4 h-4"})," Add Row"]})}),e.jsx("td",{className:`px-4 py-3 text-right tabular-nums ${d!==b?"text-red-600":"text-gray-900"}`,children:m(d)}),e.jsx("td",{className:`px-4 py-3 text-right tabular-nums ${d!==b?"text-red-600":"text-gray-900"}`,children:m(b)}),e.jsx("td",{})]})})]})}),e.jsxs("div",{className:"p-4 border-t border-gray-100 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[e.jsxs("div",{children:[d>0&&!k&&e.jsxs("span",{className:"text-sm text-red-600 font-medium",children:["Difference: ",m(Math.abs(d-b))," ",d>b?"(Debit excess)":"(Credit excess)"]}),k&&U&&!y&&e.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Balanced - ready to post"}),y&&e.jsx("span",{className:"text-sm text-orange-600 font-medium",children:"Editing mode - make changes and click Update Journal"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:V,className:"flex items-center gap-1.5 px-4 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(Ce,{className:"w-4 h-4"})," Clear"]}),e.jsxs("button",{onClick:ue,disabled:!k||!U||L,className:"flex items-center gap-1.5 px-5 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[L?e.jsx(ee,{className:"w-4 h-4 animate-spin"}):e.jsx(ke,{className:"w-4 h-4"}),L?y?"Updating...":"Posting...":y?"Update Journal":"Post Journal"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:e.jsx("h3",{className:"text-sm font-semibold text-gray-700",children:"Manual Journal Entries"})}),re?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ee,{className:"w-6 h-6 animate-spin text-blue-500"})}):$.length===0?e.jsx("div",{className:"text-center py-12 text-gray-400 text-sm",children:"No manual journal entries in selected date range"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 text-gray-600 text-xs uppercase",children:[e.jsx("th",{className:"text-left px-4 py-2.5 font-medium",children:"Entry #"}),e.jsx("th",{className:"text-left px-4 py-2.5 font-medium",children:"Date"}),e.jsx("th",{className:"text-left px-4 py-2.5 font-medium",children:"Description"}),e.jsx("th",{className:"text-right px-4 py-2.5 font-medium",children:"Debit"}),e.jsx("th",{className:"text-right px-4 py-2.5 font-medium",children:"Credit"}),e.jsx("th",{className:"text-center px-4 py-2.5 font-medium",children:"Actions"})]})}),e.jsx("tbody",{children:$.map(t=>e.jsxs("tr",{className:"border-t border-gray-100 hover:bg-gray-50/80 transition-colors",children:[e.jsx("td",{className:"px-4 py-2.5 font-mono text-blue-700 font-medium",children:t.entry_number}),e.jsx("td",{className:"px-4 py-2.5 text-gray-600",children:new Date(t.entry_date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}),e.jsx("td",{className:"px-4 py-2.5 text-gray-800 max-w-xs truncate",children:t.description||"-"}),e.jsx("td",{className:"px-4 py-2.5 text-right tabular-nums",children:m(t.total_debit)}),e.jsx("td",{className:"px-4 py-2.5 text-right tabular-nums",children:m(t.total_credit)}),e.jsx("td",{className:"px-4 py-2.5 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[e.jsx("button",{onClick:()=>me(t),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"View",children:e.jsx(De,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>xe(t),className:"p-1 text-gray-400 hover:text-gray-700 transition-colors",title:"Edit",children:e.jsx(Z,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>pe(t.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Delete",children:e.jsx(Y,{className:"w-4 h-4"})})]})})]},t.id))})]})})]}),l&&e.jsx(Ne,{isOpen:oe,title:`Journal Entry: ${l.entry_number}`,onClose:()=>W(!1),size:"lg",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Date:"})," ",e.jsx("span",{className:"font-medium",children:new Date(l.entry_date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Status:"})," ",e.jsx("span",{className:`inline-flex px-2 py-0.5 text-xs rounded-full font-medium ${l.is_posted?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:l.is_posted?"Posted":"Draft"})]})]}),l.description&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Description:"})," ",e.jsx("span",{className:"text-gray-800",children:l.description})]}),e.jsxs("table",{className:"w-full text-sm border border-gray-200 rounded-lg overflow-hidden",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 text-gray-600",children:[e.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"#"}),e.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"Account"}),e.jsx("th",{className:"text-left px-4 py-2 font-medium",children:"Description"}),e.jsx("th",{className:"text-right px-4 py-2 font-medium",children:"Debit"}),e.jsx("th",{className:"text-right px-4 py-2 font-medium",children:"Credit"})]})}),e.jsx("tbody",{children:l.lines.map(t=>{var s,a;return e.jsxs("tr",{className:"border-t border-gray-100",children:[e.jsx("td",{className:"px-4 py-2 text-gray-400",children:t.line_number}),e.jsxs("td",{className:"px-4 py-2",children:[e.jsx("span",{className:"font-mono text-blue-600 mr-1",children:(s=t.chart_of_accounts)==null?void 0:s.code}),(a=t.chart_of_accounts)==null?void 0:a.name]}),e.jsx("td",{className:"px-4 py-2 text-gray-600",children:t.description||"-"}),e.jsx("td",{className:"px-4 py-2 text-right tabular-nums",children:t.debit>0?m(t.debit):"-"}),e.jsx("td",{className:"px-4 py-2 text-right tabular-nums",children:t.credit>0?m(t.credit):"-"})]},t.line_number)})}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"border-t-2 border-gray-300 bg-gray-50 font-semibold",children:[e.jsx("td",{colSpan:3,className:"px-4 py-2 text-right",children:"Total"}),e.jsx("td",{className:"px-4 py-2 text-right tabular-nums",children:m(l.total_debit)}),e.jsx("td",{className:"px-4 py-2 text-right tabular-nums",children:m(l.total_credit)})]})})]})]})})]})}export{Pe as GeneralJournalEntry};
