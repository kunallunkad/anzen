import{r as p,d as N,j as e}from"./index-C6UjJy9t.js";import{S as w}from"./search-CWB-ZnVC.js";import{C as v}from"./chevron-up-BctZjBOj.js";import{C as m}from"./chevron-down-OscdQjjm.js";function E({data:y,columns:i,onRowClick:l,actions:n,loading:g}){const[o,u]=p.useState(""),[s,b]=p.useState(null),{t:d}=N(),f=r=>{let t="asc";(s==null?void 0:s.key)===r&&s.direction==="asc"&&(t="desc"),b({key:r,direction:t})},j=r=>{const t=[],a=c=>{c!=null&&(typeof c=="object"&&!Array.isArray(c)?Object.values(c).forEach(a):Array.isArray(c)?c.forEach(a):t.push(String(c)))};return Object.values(r).forEach(a),t},x=(()=>{let r=[...y];return o&&(r=r.filter(t=>j(t).some(a=>a.toLowerCase().includes(o.toLowerCase())))),s&&r.sort((t,a)=>{const c=t[s.key],h=a[s.key];return c<h?s.direction==="asc"?-1:1:c>h?s.direction==="asc"?1:-1:0}),r})();return g?e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600",children:d("common.loading")})]})}):e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:o,onChange:r=>u(r.target.value),placeholder:d("common.search"),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[i.map(r=>e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:r.sortable?e.jsxs("button",{onClick:()=>f(r.key),className:"flex items-center gap-1 hover:text-gray-700",children:[r.label,(s==null?void 0:s.key)===r.key?s.direction==="asc"?e.jsx(v,{className:"w-4 h-4"}):e.jsx(m,{className:"w-4 h-4"}):e.jsx(m,{className:"w-4 h-4 opacity-30"})]}):r.label},r.key)),n&&e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:d("common.actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:i.length+(n?1:0),className:"px-6 py-8 text-center text-gray-500",children:d("common.noData")})}):x.map((r,t)=>e.jsxs("tr",{onClick:()=>l==null?void 0:l(r),className:l?"cursor-pointer hover:bg-gray-50":"",children:[i.map(a=>e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.render?a.render(r[a.key],r):r[a.key]},a.key)),n&&e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:n(r)})]},t))})]})})]})}export{E as D};
